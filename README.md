# [「飯糰🍙」](/)更新日誌

照我記得起來的寫吧，記不太清了☹️

1. 應該是十一月六號下午開始萌生建個網站的想法💡 當時是想給妞妞佔個域名，但`kang.xin`是個溢價域名，後面放棄了。那時候連`ssh`登陸都不會。
2. 到了晚上九點🕘，終於把服務器架好了。用的 Sinatra ，挺簡單的。
3. 七號上午九點🕘前後，學會了用`scp`傳文件。現在同步文件方便多了。
4. 不到十點🕙，搞定了「無密碼登錄」。
5. 十點🕙，做了個「飯否」的數據抓下來顯示的功能。
6. 之後，整個七號都在弄`OAuth`登陸，棄！
7. 八號下午兩點🕑，上線了「搜索🔍」功能。
8. 九號下午三點🕒，上線了「搜索詞熱力地圖」。樣式抄的 GitHub 的，學了一晚上的 SVG 畫圖。
9. 九號晚上十一點🕚，添加了「在線雜誌」。
10. 十號上午十一點🕚，為「晚睡熱力地圖」添加了最晚睡的連結。
11. 十一號凌晨一點🕐，上線了「我的豆瓣電影🎬」。
12. 十一號下午兩點🕑，準備抓「豆瓣讀書」的數據，被豆瓣封殺😒
13. 十一號下午四點🕓，簡化合併了部分頁面。
14. 十二號上午十點🕙，上線了「我的豆瓣讀書📖」。
15. 十二號上午十點二十三🕥，上線了「我的豆瓣讀書熱力圖📖」。
16. 十二號下午五點半🕠，上線了「簡書搜索🔍」。
17. 十二號晚上十點半🕥，完成了搜索🔍的聚合。
18. 十四號凌晨一點🕐，編寫了文檔「正則表達式」。
19. 十四號下午一點半🕜，上線了「代碼搜索🔍」。
20. 十四號下午兩點🕑，編寫了文檔「讀寫文件」「 Nogokiri 庫」「 Sinatra 」。
21. 十四號晚上八點🕗，重構了`index.rb`，把讀取文件等耗時部分抽取出來，寫到`fanfou.rb`裏了。
22. 十五號下午五點二十🕠，上線了「按日期搜索🔍」。
23. 十五號晚上八點🕗，用 SQLite 改寫了「飯否」後端，可以在啟動時更新。
24. 十七號下午三點🕒，用 SQLite 改寫了「豆瓣讀書」後端，但還不能實時更新。
25. 十七號下午六點🕕，用 SQLite 改寫了「豆瓣電影」後端，但還不能實時更新。


----

## 「飯糰🍙」上線功能：

|-----------------+------------+-----------------+----------------|
| 功能             | 鏈接       | 說明             | 上線時間        |
|:----------------|:-----------|:----------------|:--------------:|
| lite 飯否        | [/code](/code)                      | 自動抓取最新的 20 條飯嘮。不能聚合對話。      | 2017/11/07  |
| 飯否             | [/fanfou](/fanfou)                  | 抓取我的飯否的全部紀錄。沒有實現分頁，因此存在效率問題。 | 2017/11/07 |
|-----------------+------------+-----------------+----------------|
| 搜索             | [/search](/search)                  | 搜索「具有特定關鍵詞/匹配某個模式」的飯嘮。會將匹配字句高亮顯示，並統計出現次數。 | 2017/11/08 |
| 搜索「妞妞」      | [/niu](/niu)                         | 搜索「和妞妞相關」飯嘮的定製頁面。待後期完善⋯⋯ | 2017/11/08  |
| 搜索「妮妹」      | [/nimr](/nimr)                       | 搜索「和妮妹相關」飯嘮的定製頁面。待後期完善⋯⋯ | 2017/11/08  |
| 搜索「創意」      | [/ideas](/ideas)                     | 搜索「和創意相關」飯嘮的定製頁面。待後期完善⋯⋯ | 2017/11/08  |
| 簡書搜索         | [/search_blog](/search_blog)                   | 搜索我在簡書的文章，並給出跳轉鏈接，但不支持實時更新。  | 2017/11/12 |
| **聚合搜索**     | [/search_all](/search_all)           | 可以同時搜索出我在簡書的文章 & 在飯否的飯嘮，並給出跳轉鏈接。同時支持「高級搜索」，即添加不同的標籤頭，  | 2017/11/12 |
|                 |            | 可進行不同的搜索（「fanfou:」搜索飯嘮，「blog:」搜索簡書，「stat:」給出詞條統計，「map:」給出熱力統計）。 |           |
| 代碼庫搜索      | [/search_code](/search_code)          | 在代碼庫中搜索相關文檔。 | 2017/11/14  |
| 按日期搜索      | [/search_all_by_time](/search_all_by_time)          | 按日期搜索飯嘮或文章。 | 2017/11/15  |
|-----------------+------------+-----------------+----------------|
| 詞條統計         | [/chart](/chart)                     | 在「匹配某個模式」的飯嘮中，統計各實例的出現次數，並給出跳轉鏈接。 | 2017/11/08 |
|-----------------+------------+-----------------+----------------|
| 熱力地圖         | [/stat](/stat)                       | 展示「某個模式」的出現熱度。 | 2017/11/09 |
| 晚睡指數         | [/calendar](/calendar)               | 根據飯嘮的時間紀錄，展示晚睡情況。點擊可查看當日最晚飯嘮。在[/stat](/stat)中搜「夜貓子」可跳轉到該頁面。 | 2017/11/09 |
| 觀影熱力圖       | [/movies_heat_map](/movies_heat_map) | 在[/stat](/stat)中搜「::movies::」可跳轉到「歷年觀影熱力圖」頁面。 | 2017/11/11 |
| 讀書熱力圖       | [/books_heat_map](/books_heat_map) | 在[/stat](/stat)中搜「::books::」可跳轉到「歷年開卷熱力圖」頁面。 | 2017/11/12 |
|-----------------+------------+-----------------+----------------|
| 在線雜誌         | [/book](/book)                       | 不清晰，棄！  | 2017/11/09 |
|-----------------+------------+-----------------+----------------|
| 豆瓣電影         | [/movies](/movies)                   | 表格呈現看過的電影。  | 2017/11/11 |
| 豆瓣讀書         | [/books](/books)                     | 表格呈現讀過的書。但還不能實時更新。  | 2017/11/12 |
|-----------------+------------+-----------------+----------------|
{: rules="groups"}


----

## **挖坑：**{: style="color: red"}

- 拿到 Instapaper 的數據；
- 將 [/fanfou](/fanfou) 改寫為流頁面；
- 製作網站的移動版本；
- 為小朋友的大作製作視差效果；
- 製作「小朋友學算術」頁面，含 Trachtenberg 速算方法；
- 搜索結果的相關度排序；
- 性能調優；
- 成就系統；
- 修復[/fanfou](/fanfou)刷新問題；
- 把個人書評、影評抓下來，納入搜索；
- 實現「&」搜索；
